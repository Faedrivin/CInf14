\documentclass{CInf_practice}

\sheet{3}{Schaltfunktionen und Minimierung}

\begin{document}

\cinftitle

\ex{Normalformen}{6 + 6 + 6 + 6 + 6 = 30}
Anmerkung: Außer Duplikation von Termen wurde fast immer das 5. Axiom (vorwärts
oder rückwärts) zur Vereinfachung angewandt.

\begin{enumerate}[label=\alph{*})]
   \item
      \begin{equation*}
         f_{DKF} = \comp a\comp b \comp c + \comp a b\comp c + \comp a b c + 
         a b\comp c \\
      \end{equation*}
   \item
      \begin{eqnarray*}
         f_{DNF} & = & \comp a\comp b \comp c + \comp a b\comp c + \comp a b c + 
         a b\comp c \\
                 & = & \comp a \comp b \comp c + \comp a b \comp c + \comp a b
                       \comp c + \comp a b \comp c + \comp a b c + a b \comp c \\
                 & = & \comp a \comp c + b \comp c + \comp a b
      \end{eqnarray*}
   \item
      \begin{equation*}
         f_{KKN} = (a + b + \comp c) \cdot (\comp a + b + c) \cdot (\comp a
         + b  +\comp c) \cdot (\comp a + \comp b  +\comp c)
      \end{equation*}
   \item
      \begin{eqnarray*}
         f_{KKN} & = & (a + b + \comp c) \cdot (\comp a + b + c) \cdot (\comp a + b  +\comp c) \cdot (\comp a + \comp b  +\comp c) \\
                 & = & (a + b + \comp c) \cdot (\comp a + b + c) \cdot (\comp a
                        + b  +\comp c) \cdot (\comp a + \comp b  +\comp c) \cdot (\comp a + b + \comp c)\\
                 & = & (a + b + \comp c) \cdot ((\comp a + b) + (c\comp e)) \cdot ((\comp a + \comp c) + (b\comp b)) \\
                 & = & (a + b \comp c) \cdot (\comp a + b) \cdot (\comp a + \comp c) \\
                 & = & (\comp a + b) \cdot (\comp c + ((a + b)\cdot\comp a)) \\
                 & = & (\comp a + b) \cdot (\comp c + (a\comp a + \comp a b)) \\
                 & = & (\comp a + b) \cdot (\comp c + \comp a b) \\
                 & = & (\comp a + b) \cdot (\comp a + \comp c) \cdot (b + \comp c)
      \end{eqnarray*}

   \item \hspace{\linewidth} % weirdly, i must put space here in order for the
                             % tikzpicture to start at the next line

      \begin{center}
      \begin{tikzpicture}[node distance=.5cm,every node/.style={scale=.8}] % TODO: Encapsulate some of this stuff in macros
            \node (a) {$a$};
            \node[right=of a] (b) {$b$};
            \node[right=of b] (c) {$c$};
            \draw[name path=a-line](a) -- ++(0,-6cm);
            \draw[name path=b-line](b) -- ++(0,-6cm);
            \draw[name path=c-line](c) -- ++(0,-6cm);

            \node[and port, below right=.5cm and 2 cm of c] (and-1) {};
            \draw[name path=a-and-1] (a) |- (and-1.145);
            \draw[name path=b-and-1] (b) |- (and-1.180);
            \draw[name path=c-and-1] (c) |- (and-1.215);
            \fill[black,name intersections={of=a-line and a-and-1}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-and-1}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-and-1}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (and-1.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of and-1.145] () {};
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of and-1.180] () {};
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of and-1.215] () {};
            \end{scope}

            % second and
            \node[and port, below=of and-1] (and-2) {};
            \draw[name path=a-and-2] (a) |- (and-2.145);
            \draw[name path=b-and-2] (b) |- (and-2.180);
            \draw[name path=c-and-2] (c) |- (and-2.215);
            \fill[black,name intersections={of=a-line and a-and-2}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-and-2}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-and-2}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (and-2.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of and-2.145] () {};
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of and-2.215] () {};
            \end{scope}

            % third and
            \node[and port, below=of and-2] (and-3) {};
            \draw[name path=a-and-3] (a) |- (and-3.145);
            \draw[name path=b-and-3] (b) |- (and-3.180);
            \draw[name path=c-and-3] (c) |- (and-3.215);
            \fill[black,name intersections={of=a-line and a-and-3}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-and-3}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-and-3}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (and-3.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of and-3.145] () {};
            \end{scope}

            % fourth and
            \node[and port, below=of and-3] (and-4) {};
            \draw[name path=a-and-4] (a) |- (and-4.145);
            \draw[name path=b-and-4] (b) |- (and-4.180);
            \draw[name path=c-and-4] (c) |- (and-4.215);
            \fill[black,name intersections={of=a-line and a-and-4}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-and-4}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-and-4}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (and-4.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of and-4.215] () {};
            \end{scope}

            % or

            \node[or port] (or-1) at ($(and-2)!0.5!(and-3)+(4cm,0)$) {};
            \draw (and-1.east) -- ++(2cm,0) |- (or-1.145);
            \draw (and-2.east) -- ++(1cm,0) |- (or-1.162.5);
            \draw (and-3.east) -- ++(1cm,0) |- (or-1.197.5);
            \draw (and-4.east) -- ++(2cm,0) |- (or-1.215);

            \draw (or-1.east) -- ++(2cm,0) ++(10pt,0) node () {$f_{DKN}$};
         \end{tikzpicture}
      \end{center}

      \begin{center}
         \begin{tikzpicture}[node distance=.5cm,every node/.style={scale=.8}] % TODO: Encapsulate some of this stuff in macros
            \node (a) {$a$};
            \node[right=of a] (b) {$b$};
            \node[right=of b] (c) {$c$};
            \draw[name path=a-line](a) -- ++(0,-6cm);
            \draw[name path=b-line](b) -- ++(0,-6cm);
            \draw[name path=c-line](c) -- ++(0,-6cm);

            \node[or port, below right=.5cm and 2 cm of c] (or-1) {};
            \draw[name path=a-or-1] (a) |- (or-1.145);
            \draw[name path=b-or-1] (b) |- (or-1.180);
            \draw[name path=c-or-1] (c) |- (or-1.215);
            \fill[black,name intersections={of=a-line and a-or-1}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-or-1}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-or-1}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (or-1.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of or-1.215] () {};
            \end{scope}

            % second or
            \node[or port, below=of or-1] (or-2) {};
            \draw[name path=a-or-2] (a) |- (or-2.145);
            \draw[name path=b-or-2] (b) |- (or-2.180);
            \draw[name path=c-or-2] (c) |- (or-2.215);
            \fill[black,name intersections={of=a-line and a-or-2}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-or-2}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-or-2}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (or-2.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of or-2.145] () {};
            \end{scope}

            % third or
            \node[or port, below=of or-2] (or-3) {};
            \draw[name path=a-or-3] (a) |- (or-3.145);
            \draw[name path=b-or-3] (b) |- (or-3.180);
            \draw[name path=c-or-3] (c) |- (or-3.215);
            \fill[black,name intersections={of=a-line and a-or-3}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-or-3}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-or-3}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (or-3.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of or-3.145] () {};
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of or-3.215] () {};
            \end{scope}

            % fourth or
            \node[or port, below=of or-3] (or-4) {};
            \draw[name path=a-or-4] (a) |- (or-4.145);
            \draw[name path=b-or-4] (b) |- (or-4.180);
            \draw[name path=c-or-4] (c) |- (or-4.215);
            \fill[black,name intersections={of=a-line and a-or-4}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=b-line and b-or-4}] (intersection-1) circle (1.5pt);
            \fill[black,name intersections={of=c-line and c-or-4}] (intersection-1) circle (1.5pt);
            \begin{scope} % scope to only clip circles
               \clip (or-4.north west) rectangle ++(-3cm,-3cm); % to cut circles
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of or-4.145] () {};
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of or-4.180] () {};
               \node[shape=circle,draw,fill=white,inner sep=1.5pt,left=0pt of or-4.215] () {};
            \end{scope}

            % and

            \node[and port] (and-1) at ($(or-2)!0.5!(or-3)+(4cm,0)$) {};
            \draw (or-1.east) -- ++(2cm,0) |- (and-1.145);
            \draw (or-2.east) -- ++(1cm,0) |- (and-1.162.5);
            \draw (or-3.east) -- ++(1cm,0) |- (and-1.197.5);
            \draw (or-4.east) -- ++(2cm,0) |- (and-1.215);

            \draw (and-1.east) -- ++(2cm,0) ++(10pt,0) node () {$f_{KKN}$};
         \end{tikzpicture}
      \end{center}
\end{enumerate}
\ex{Schaltungsanalyse}{6 + 6 + 3 + 3 = 18}
% ruby for ttable generation
% expr = expr.gsub(/\\comp{(.*)}/, "not \\1").gsub("+", " or ").gsub("\\cdot", " and ").gsub(/\\comp (.)/, "not \\1")
%    table = '\begin{tabular}{ccc|l}'
%    table += "\n $a$ & $b$ & $c$ & $f$\\\\\\hline"
%    [true,false].each do |a|
%       [true,false].each do |b|
%          [true,false].each do |c|
%             table += "\n#{a} & #{b} & #{c} & #{eval expr}\\\\"
%          end
%       end
%    end
%    puts table.gsub("true", "1").gsub("false", "0").concat("\n\\end{tabular}")
\begin{enumerate}[label=\alph{*})]
   \item 
      \begin{eqnarray*}
         f_1 & = & (a + \comp b + c) \cdot (\comp a + b + c) \cdot (\comp a + \comp b + \comp c)\\
         f_2 & = & (a \cdot \comp c) + (\comp a \cdot \comp b \cdot c) \\
         f_2 & = & (\comp a \cdot b \cdot c) + \comp{(a + \comp c)}
      \end{eqnarray*}
   \item \hspace{\linewidth}

      \begin{tabular}{ccc|lll}
         $a$ & $b$ & $c$ & $f_1$ & $f_2$ & $f_3$\\\hline
         1 & 1 & 1 & 0&0&0\\
         1 & 1 & 0 & 1&1&0\\
         1 & 0 & 1 & 1&0&0\\
         1 & 0 & 0 & 0&1&0\\
         0 & 1 & 1 & 1&0&1\\
         0 & 1 & 0 & 0&0&0\\
         0 & 0 & 1 & 1&1&1\\
         0 & 0 & 0 & 1&0&0\\
      \end{tabular}
\end{enumerate}
\ex{KV-Minimierung}{6 + 8 + 8 = 22}
\ex{KV-Minimierung mit 5 Variablen}{12}
\ex{7-Segment-Anzeige}{2 + 8 + 8 = 18}


\end{document}
